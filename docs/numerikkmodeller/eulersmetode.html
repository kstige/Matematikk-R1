

<!DOCTYPE html>


<html lang="nb-NO" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>4. Eulers metode &#8212; Matematikk R1</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/iframe-scale.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/myadmonitions.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/numerikkmodeller/eulersmetode';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Søk" href="../../search.html" />
    <link rel="next" title="5. Reelle datasett" href="reelledatasett.html" />
    <link rel="prev" title="3. Numerisk derivasjon" href="numeriskderivasjon.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="nb-NO"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">1 - Algebra og likninger</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../algebralikninger/potensrot.html">1. Potenser og røtter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algebralikninger/logaritmer.html">2. Logaritmer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algebralikninger/logaritmesetningene.html">3. Logaritmesetningene</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algebralikninger/loglikninger.html">4. Logaritmelikninger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algebralikninger/eksponentiallikninger.html">5. Eksponentiallikninger</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">2 - Derivasjon</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../derivasjon/grenseverdier.html">1. Grenseverdier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../derivasjon/asymptoter.html">2. Asymptoter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../derivasjon/kontinuitet.html">3. Kontinuitet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../derivasjon/defderivert.html">4. Definisjon av den deriverte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../derivasjon/derivasjonsregler.html">5. Derivasjonsregler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../derivasjon/lhopitalsregel.html">6. L’Hôpitals regel</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">3 - Funksjonsdrøfting</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../funksjonsdrofting/kritiskepunkt.html">1. Kritiske punkt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funksjonsdrofting/andrederivert.html">2. Den andrederiverte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funksjonsdrofting/funksjonsdrofting.html">3. Funksjonsdrøfting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funksjonsdrofting/tangenter.html">4. Tangenter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funksjonsdrofting/omvendtefunksjoner.html">5. Omvendte funksjoner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../funksjonsdrofting/viktigefunksjoner.html">6. Viktige funksjoner</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">4 - Numeriske metoder og modeller</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="numerisklosning.html">1. Numerisk løsning av likninger</a></li>
<li class="toctree-l1"><a class="reference internal" href="newtonsmetode.html">2. Newtons metode</a></li>
<li class="toctree-l1"><a class="reference internal" href="numeriskderivasjon.html">3. Numerisk derivasjon</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">4. Eulers metode</a></li>
<li class="toctree-l1"><a class="reference internal" href="reelledatasett.html">5. Reelle datasett</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">5 - Vektorer</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../vektorer/vektorer.html">1. Vektorer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vektorer/regnevektorer.html">2. Regne med vektorer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vektorer/vektorlikninger.html">3. Regne med vektorer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vektorer/skalarprodukt.html">4. Skalarprodukt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vektorer/geometri.html">5. Anvendelser i geometri</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vektorer/parameterframstilling.html">6. Parameterframstilling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vektorer/kurver.html">7. Kurver</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/docs/numerikkmodeller/eulersmetode.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Søk" aria-label="Søk" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Eulers metode</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vekst">Vekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lineaer-vekst">Lineær vekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eksponentiell-vekst">Eksponentiell vekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#logistisk-vekst">Logistisk vekst</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="eulers-metode">
<h1><span class="section-number">4. </span>Eulers metode<a class="headerlink" href="#eulers-metode" title="Permalink to this heading">#</a></h1>
<div class="utbytte dropdown admonition">
<p class="admonition-title">Læringsutbytte</p>
<p>I dette temaet arbeider vi med kompetansemålet:</p>
<ul class="simple">
<li><p>analysere og tolke ulike funksjoner ved å bruke derivasjon</p></li>
<li><p>modellere og analysere eksponentiell og logistisk vekst i reelle datasett</p></li>
</ul>
<p>Etter å ha arbeidet med temaet, skal du:</p>
<ul class="simple">
<li><p>få dypere innsikt i modellene for lineær, eksponentiell og logistisk vekst</p></li>
<li><p>bruke Eulers metode for å utforske forskjellige typer vekst</p></li>
<li><p>undersøke vekst knyttet til naturvitenskapelige fenomener</p></li>
</ul>
</div>
<section id="vekst">
<h2>Vekst<a class="headerlink" href="#vekst" title="Permalink to this heading">#</a></h2>
<p>La oss tenke oss at vi har gjort noen målinger av <span class="math notranslate nohighlight">\(x\)</span>- og <span class="math notranslate nohighlight">\(y\)</span>-verdier som hører sammen. De kan vi tegne inn som punkt i et koordinatsystem. Om vi skal undersøke hva slags sammenheng det er mellom <span class="math notranslate nohighlight">\(x\)</span> og <span class="math notranslate nohighlight">\(y\)</span> vil et første naturlig steg være å analysere hva slags form for vekst vi har. Er det en økende/synkende sammenheng? Går økningen raskere og raskere, er den konstant eller varierer den? All denne informasjonen er det den deriverte inneholder. Derfor skal vi ta utgangspunkt i den deriverte når vi undersøker sammenhengen mellom <span class="math notranslate nohighlight">\(x\)</span> og <span class="math notranslate nohighlight">\(y=f(x)\)</span>.</p>
<p>Fra definisjonen har vi at den derivert er gitt ved:</p>
<p><span class="math notranslate nohighlight">\(\displaystyle f'(x)=\lim_{\Delta x \to 0}\frac{f(x+\Delta x)-f(x)}{\Delta x}\)</span></p>
<p>I punktet <span class="math notranslate nohighlight">\((a, f(a))\)</span> på den ukjente grafen til <span class="math notranslate nohighlight">\(f(x)\)</span> vil da den deriverte være tilnæremt lik</p>
<p><span class="math notranslate nohighlight">\(\displaystyle f'(a)\approx\frac{f(a+\Delta x)-f(a)}{\Delta x}\)</span></p>
<p>når <span class="math notranslate nohighlight">\(\Delta x\)</span> er liten. La oss nå anta at vi kjenner formen på den deriverte. Da kan vi ved hjelp av tilnærmingen over finne et nytt punkt <span class="math notranslate nohighlight">\((a+\Delta x, f(a+\Delta x))\)</span> som ligger nær grafen til <span class="math notranslate nohighlight">\(f\)</span> (nær og ikke på siden vi gjør en tilnærming).</p>
<p><span class="math notranslate nohighlight">\(f(a+\Delta x) = f(a)+f'(a)\cdot \Delta x\)</span></p>
<p>Fra dette punktet kan vi finne et nytt punkt, og så et nytt og så videre. Til sammen vil vi da ha punkter som vi kan trekke en kurve gjennom. Dette vil gi grafen som beskriver sammenhengen mellom <span class="math notranslate nohighlight">\(x\)</span>- og <span class="math notranslate nohighlight">\(y\)</span>-verdiene.</p>
<p>For å bruke metoden starter vi med det første punktet <span class="math notranslate nohighlight">\((x_0, f(x_0))\)</span> og finner neste funksjonsverdi ved:</p>
<p><span class="math notranslate nohighlight">\(f(x_1)=f(x_0+\Delta x) = f(x_0)+f'(x_0)\cdot \Delta x\)</span></p>
<p>Neste punkt igjen blir</p>
<p><span class="math notranslate nohighlight">\(f(x_2)=f(x_1+\Delta x)= f(x_1)+f'(x_1)\cdot \Delta x\)</span></p>
<p>og så videre. Framgangsmåten kalles Eulers metode:</p>
<div class="def admonition">
<p class="admonition-title">Eulers metode</p>
<p>Vi kan finne tilnærmede funksjonsverdier <span class="math notranslate nohighlight">\(f(x_{n+1})\)</span> ved å bruke funksjonsverdien <span class="math notranslate nohighlight">\(f(x_n)\)</span> og den deriverte i punktet <span class="math notranslate nohighlight">\(f'(x_n)\)</span> sammen med en liten steglengde <span class="math notranslate nohighlight">\(\Delta x\)</span></p>
<p><span class="math notranslate nohighlight">\(f(x_{n+1})=f(x_n)+f'(x_n)\cdot \Delta x\)</span></p>
</div>
<p>Vi implementerer framgangsmåten i python med følgende algoritme</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">numpy</span>

<span class="n">x0</span> <span class="o">=</span>            <span class="c1"># Sett startverdi for x</span>
<span class="n">y0</span> <span class="o">=</span>            <span class="c1"># Sett startverdi for y</span>
<span class="n">xs</span> <span class="o">=</span>            <span class="c1"># Setter sluttverdi for x</span>
<span class="n">dx</span> <span class="o">=</span>            <span class="c1"># Sett steglengde</span>

<span class="c1"># Oppretter lister til å lagre x- og y-verdier</span>
<span class="n">xliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">x0</span><span class="p">]</span>
<span class="n">yliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">y0</span><span class="p">]</span>

<span class="c1"># Oppretter variabler for x og y som kan oppdateres i løkka</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x0</span>       
<span class="n">y</span> <span class="o">=</span> <span class="n">y0</span>

<span class="c1"># Definerer formen på den deriverte som kan avhenge av både x og y</span>
<span class="k">def</span> <span class="nf">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> 

<span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">xs</span><span class="p">:</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">dx</span>       <span class="c1"># Eulers metode for neste y-verdi</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span>          <span class="c1"># Øker x med en steglengde</span>
    <span class="n">yliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>    <span class="c1"># Legger til y-verdien i lista</span>
    <span class="n">xliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>    <span class="c1"># Legger til x-verdien i lista</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xliste</span><span class="p">,</span> <span class="n">yliste</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Metoden over er generell. For å kunne bruke den må vi se på ulike former for vekst med gitte startbetingelser. Koden kan optimaliseres og gjøres mer effektiv, men her er fokuset på at den skal være enklest mulig å forstå. De som er interessert kan lese mer på <a class="reference external" href="https://progmod.no/docs/tema5_modellering/differensiallikninger.html">denne siden</a>.</p>
</section>
<section id="lineaer-vekst">
<h2>Lineær vekst<a class="headerlink" href="#lineaer-vekst" title="Permalink to this heading">#</a></h2>
<p>Lineær vekst er kjennetegnet ved at stigningen er konstant, eller sagt på en annen måte: den deriverte er konstant.</p>
<p>La oss prøve å bruke koden over til å modellere en lineær vekst fra punktet <span class="math notranslate nohighlight">\((2, 3)\)</span> med en derivert lik <span class="math notranslate nohighlight">\(2\)</span>, steglengde lik <span class="math notranslate nohighlight">\(10^{-6}\)</span> og sluttverdi for <span class="math notranslate nohighlight">\(x\)</span> lik <span class="math notranslate nohighlight">\(10\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">numpy</span>

<span class="n">x0</span> <span class="o">=</span> <span class="mi">2</span>           <span class="c1"># Sett startverdi for x</span>
<span class="n">y0</span> <span class="o">=</span> <span class="mi">3</span>           <span class="c1"># Sett startverdi for y</span>
<span class="n">xs</span> <span class="o">=</span> <span class="mi">10</span>          <span class="c1"># Setter sluttverdi for x</span>
<span class="n">dx</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">6</span>      <span class="c1"># Sett steglengde</span>

<span class="c1"># Oppretter lister til å lagre x- og y-verdier</span>
<span class="n">xliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">x0</span><span class="p">]</span>
<span class="n">yliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">y0</span><span class="p">]</span>

<span class="c1"># Oppretter variabler for x og y som kan oppdateres i løkka</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x0</span>       
<span class="n">y</span> <span class="o">=</span> <span class="n">y0</span>

<span class="c1"># Definerer formen på den deriverte som kan avhenge av både x og y</span>
<span class="k">def</span> <span class="nf">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">5</span>

<span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">xs</span><span class="p">:</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">dx</span>       <span class="c1"># Eulers metode for neste y-verdi</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span>                <span class="c1"># Øker x med en steglengde</span>
    <span class="n">yliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>          <span class="c1"># Legger til y-verdien i lista</span>
    <span class="n">xliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>          <span class="c1"># Legger til x-verdien i lista</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xliste</span><span class="p">,</span> <span class="n">yliste</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/950b7b0596a8523c69f7d78ba45ab048268f0b2183e269a4ec886fe71873be15.png" src="../../_images/950b7b0596a8523c69f7d78ba45ab048268f0b2183e269a4ec886fe71873be15.png" />
</div>
</div>
<p>Vi ser at konstant derivert som forventet gir oss en lineær funksjon.</p>
<div class="def admonition">
<p class="admonition-title">Lineær vekst</p>
<p>En funksjon som har konstant vekst (konstant derivert) vil følge en lineær funksjon på formen</p>
<p><span class="math notranslate nohighlight">\(f(x)=ax+b\)</span></p>
<p>der <span class="math notranslate nohighlight">\(a=f'(x)\)</span> er stigningstallet og <span class="math notranslate nohighlight">\(b\)</span> er <em>startverdien</em> (verdien ved <span class="math notranslate nohighlight">\(x=0\)</span>) også kalt konstantleddet.</p>
</div>
</section>
<section id="eksponentiell-vekst">
<h2>Eksponentiell vekst<a class="headerlink" href="#eksponentiell-vekst" title="Permalink to this heading">#</a></h2>
<p>En annen form for vekst er der vekstfarten er proporsjonal med funksjonen. Det kan vi skrive som at <span class="math notranslate nohighlight">\(f'(x)=k\cdot f(x)\)</span>. Den deriverte er altså gitt av en konstant multiplisert med funksjonsverdien.</p>
<p>Et vanlig eksempel på en slik form for vekst er renter. Endringen i verdi (rentene) fra en periode til neste (<span class="math notranslate nohighlight">\(f'(x)\)</span>) er gitt ved vekstfaktoren (<span class="math notranslate nohighlight">\(k\)</span>) multiplisert med beholdningen ved start på perioden (<span class="math notranslate nohighlight">\(f(x)\)</span>).</p>
<p>Et annet eksempel er ukontrollert vekst i en populasjon. Vekstfarten i populasjonen (<span class="math notranslate nohighlight">\(f'(x)\)</span>) er gitt ved en eller annen konstant (<span class="math notranslate nohighlight">\(k\)</span>) multiplisert med størrelsen på populasjonen (<span class="math notranslate nohighlight">\(f(x)\)</span>). Denne typen vekst er vanlig i for eksempel startfasen på en pandemi, i bakterievekst på et laboratorium eller når vi innfører en ny art i et område der den ikke har naturlige fiender.</p>
<p>Vi sjekker modellen med start i <span class="math notranslate nohighlight">\((2, 3)\)</span>, konstant <span class="math notranslate nohighlight">\(k=0.2\)</span> og sluttverdi for <span class="math notranslate nohighlight">\(x\)</span> lik 10.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">numpy</span>

<span class="n">x0</span> <span class="o">=</span> <span class="mi">2</span>           <span class="c1"># Sett startverdi for x</span>
<span class="n">y0</span> <span class="o">=</span> <span class="mi">3</span>           <span class="c1"># Sett startverdi for y</span>
<span class="n">xs</span> <span class="o">=</span> <span class="mi">10</span>          <span class="c1"># Setter sluttverdi for x</span>
<span class="n">dx</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">6</span>      <span class="c1"># Sett steglengde</span>

<span class="c1"># Oppretter lister til å lagre x- og y-verdier</span>
<span class="n">xliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">x0</span><span class="p">]</span>
<span class="n">yliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">y0</span><span class="p">]</span>

<span class="c1"># Oppretter variabler for x og y som kan oppdateres i løkka</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x0</span>       
<span class="n">y</span> <span class="o">=</span> <span class="n">y0</span>

<span class="c1"># Definerer formen på den deriverte som kan avhenge av både x og y</span>
<span class="k">def</span> <span class="nf">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">y</span>

<span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">xs</span><span class="p">:</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">dx</span>       <span class="c1"># Eulers metode for neste y-verdi</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span>                <span class="c1"># Øker x med en steglengde</span>
    <span class="n">yliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>          <span class="c1"># Legger til y-verdien i lista</span>
    <span class="n">xliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>          <span class="c1"># Legger til x-verdien i lista</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xliste</span><span class="p">,</span> <span class="n">yliste</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/5e7ee4cc110d2c5d415c889817e771a04ef1a0f59067abac45570878af3bda33.png" src="../../_images/5e7ee4cc110d2c5d415c889817e771a04ef1a0f59067abac45570878af3bda33.png" />
</div>
</div>
<p>Det her likner tydelig på eksponentiell vekst. Om vi går ut fra en eksponentialfunksjon på formen <span class="math notranslate nohighlight">\(f(x)=a\cdot e^{kx}\)</span> og deriverer den, så får vi <span class="math notranslate nohighlight">\(f'(x)=ak\cdot e^{kx}=k\cdot f(x)\)</span> som var utgangspunktet vårt.</p>
<div class="def admonition">
<p class="admonition-title">Eksponentiell vekst</p>
<p>En funksjon som har vekstfart (derivert) proporsjonal med funksjonen, altså <span class="math notranslate nohighlight">\(f'(x)=k\cdot f(x)\)</span> vil gi eksponentiell vekst. Eksponentialfunksjonen er gitt ved</p>
<p><span class="math notranslate nohighlight">\(f(x)=a\cdot e^{kx}\)</span></p>
<p>der <span class="math notranslate nohighlight">\(a\)</span> er startverdien og <span class="math notranslate nohighlight">\(k\)</span> er proporsjonalitetskonstanten.</p>
<p>Vi vil også møte eksponentialfunksjonen på formen</p>
<p><span class="math notranslate nohighlight">\(f(x)=a\cdot b^x\)</span></p>
<p>der <span class="math notranslate nohighlight">\(a\)</span> er startverdien og <span class="math notranslate nohighlight">\(b\)</span> er en vekstfaktor, det vil si <span class="math notranslate nohighlight">\(b=1\pm\frac{p}{100}\)</span> der <span class="math notranslate nohighlight">\(p\)</span> er en prosentvis endring.</p>
<p>Sammenhengen mellom de to formene for eksponentialfunksjon er at <span class="math notranslate nohighlight">\(b=e^k\)</span> eller <span class="math notranslate nohighlight">\(k=\ln b\)</span>.</p>
</div>
</section>
<section id="logistisk-vekst">
<h2>Logistisk vekst<a class="headerlink" href="#logistisk-vekst" title="Permalink to this heading">#</a></h2>
<p>Lineær vekst og eksponentiell vekst er vekstmodeller som aldri vil stoppe. I praksis vil imidlertid de fleste former for vekst avta etter en periode. Den logistiske vekstmodellen tar hensyn til det. Utgangspunktet for modellen er den samme som den eksponentielle (<span class="math notranslate nohighlight">\(f'(x)=k\cdot f(x)\)</span>), men i tillegg innføres det en øvre begrensning eller bæreevne <span class="math notranslate nohighlight">\(B\)</span> for størrelsen vi modellerer. Det gjøres ved å innføre en faktor <span class="math notranslate nohighlight">\(1-\frac{f(x)}{B}\)</span> i uttrykket for den deriverte</p>
<p><span class="math notranslate nohighlight">\(f'(x)=k\cdot f(x)\cdot \left(1-\frac{f(x)}{B}\right)\)</span></p>
<p>Når <span class="math notranslate nohighlight">\(f(x)\)</span> er liten vil <span class="math notranslate nohighlight">\(\left(1-\frac{f(x)}{B}\right)\)</span> være omtrent 1 og vi får en utvikling som tilsvarer den eksponentielle. Når <span class="math notranslate nohighlight">\(f(x)\)</span> øker vil <span class="math notranslate nohighlight">\(\left(1-\frac{f(x)}{B}\right)\)</span> minke slik at den deriverte minker og funksjonen vil flate ut. Når <span class="math notranslate nohighlight">\(f(x)\)</span> nærmer seg <span class="math notranslate nohighlight">\(B\)</span> vil <span class="math notranslate nohighlight">\(\left(1-\frac{f(x)}{B}\right)\to 0\)</span> og veksten stopper omtrent helt opp.</p>
<p>Vi sjekker modellen ved en</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">numpy</span>

<span class="n">x0</span> <span class="o">=</span> <span class="mi">2</span>           <span class="c1"># Sett startverdi for x</span>
<span class="n">y0</span> <span class="o">=</span> <span class="mi">3</span>           <span class="c1"># Sett startverdi for y</span>
<span class="n">xs</span> <span class="o">=</span> <span class="mi">40</span>          <span class="c1"># Setter sluttverdi for x</span>
<span class="n">dx</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">6</span>      <span class="c1"># Sett steglengde</span>

<span class="c1"># Oppretter lister til å lagre x- og y-verdier</span>
<span class="n">xliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">x0</span><span class="p">]</span>
<span class="n">yliste</span> <span class="o">=</span> <span class="p">[</span><span class="n">y0</span><span class="p">]</span>

<span class="c1"># Oppretter variabler for x og y som kan oppdateres i løkka</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x0</span>       
<span class="n">y</span> <span class="o">=</span> <span class="n">y0</span>

<span class="c1"># Definerer formen på den deriverte som kan avhenge av både x og y</span>
<span class="k">def</span> <span class="nf">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>

<span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">xs</span><span class="p">:</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">df</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">dx</span>       <span class="c1"># Eulers metode for neste y-verdi</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span>                <span class="c1"># Øker x med en steglengde</span>
    <span class="n">yliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>          <span class="c1"># Legger til y-verdien i lista</span>
    <span class="n">xliste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>          <span class="c1"># Legger til x-verdien i lista</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xliste</span><span class="p">,</span> <span class="n">yliste</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/6f8835398f0a46ec137195e00fcc7703c816a2b460eeac9ffcb1afa6fd909ee4.png" src="../../_images/6f8835398f0a46ec137195e00fcc7703c816a2b460eeac9ffcb1afa6fd909ee4.png" />
</div>
</div>
<p>Den logistiske funksjonen har en typisk S-form. Den starter bratt (omtrent eksponentielt), så blir den omtrent lineær rundt vendepunktet før veksten avtar og den flater ut med horisontal asymptote mot bæreevnen.</p>
<p>Det går an å vise at den logistiske funksjonen er gitt ved <span class="math notranslate nohighlight">\(\displaystyle f(x)=\frac{B}{1+a\cdot e^{-kx}}\)</span>. Det går utenfor målet her, men ved å derivere funksjonen kan vi vise at den gir det ønskede uttrykket for <span class="math notranslate nohighlight">\(f(x)\)</span>. Vi skriver først funksjonen som <span class="math notranslate nohighlight">\(f(x)=B\cdot(1+a\cdot e^{-kx})^{-1}\)</span> for lettere å se hvordan vi kan bruke kjerneregelen til å derivere. Etterpå må vi trikse litt algebraisk for å ende opp på riktig form.</p>
<p><span class="math notranslate nohighlight">\(\begin{align}
f'(x)&amp;=B\cdot (-1)\cdot(1+a\cdot e^{-kx})^{-2}\cdot (-ake^{-kx}) \\
&amp;=k\cdot \frac{B}{1+a\cdot e^{-kx}}\cdot\frac{a\cdot e^{-kx}}{1+a\cdot e^{-kx}} \\
&amp;=k\cdot f(x)\cdot \frac{1+a\cdot e^{-kx}-1}{1+a\cdot e^{-kx}} \\
&amp;=k\cdot f(x)\cdot \left(\frac{1+a\cdot e^{-kx}}{1+a\cdot e^{-kx}}-\frac{1}{1+a\cdot e^{-kx}}\right) \\
&amp;=k\cdot f(x)\cdot \left(1-\frac{f(x)}{B}\right)
\end{align}\)</span></p>
<p>Av andre egenskaper som er verdt å merke seg er at grafen har vendepunkt i <span class="math notranslate nohighlight">\(\left(\frac{\ln a}{k}, \frac{B}{2}\right)\)</span> (kontroller det med CAS) og at det er det punktet der veksten er størst.</p>
<div class="def admonition">
<p class="admonition-title">Logistisk vekst</p>
<p>Logistisk vekst er gitt ved en funksjon på formen</p>
<p><span class="math notranslate nohighlight">\(f(x)=\frac{B}{1+a\cdot e^{-kx}}\)</span></p>
<p>der <span class="math notranslate nohighlight">\(y=B\)</span> er den horisontale asymptoten som grafen til <span class="math notranslate nohighlight">\(f\)</span> går mot når <span class="math notranslate nohighlight">\(x\to\infty\)</span>. Vi kaller ofte <span class="math notranslate nohighlight">\(B\)</span> for bæreevnen dersom det er en populasjonsvekst som modelleres. Størrelsene <span class="math notranslate nohighlight">\(a\)</span> og <span class="math notranslate nohighlight">\(k\)</span> har ikke like praktiske forklaringer, men skal også være positive størrelser.</p>
<p>Den deriverte er gitt ved</p>
<p><span class="math notranslate nohighlight">\(f'(x)=k\cdot f(x)\cdot\left(1-\frac{f(x)}{B}\right)\)</span></p>
<p>Grafen til <span class="math notranslate nohighlight">\(f(x)\)</span> stiger raskest i vendepunktet som ligger i <span class="math notranslate nohighlight">\(\left(\frac{\ln a}{k}, \frac{B}{2}\right)\)</span>.</p>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs\numerikkmodeller"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="numeriskderivasjon.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">forrige</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Numerisk derivasjon</p>
      </div>
    </a>
    <a class="right-next"
       href="reelledatasett.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">neste</p>
        <p class="prev-next-title"><span class="section-number">5. </span>Reelle datasett</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vekst">Vekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lineaer-vekst">Lineær vekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eksponentiell-vekst">Eksponentiell vekst</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#logistisk-vekst">Logistisk vekst</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kristoffer Stige
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>